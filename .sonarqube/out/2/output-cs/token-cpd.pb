ì
gC:\Users\guilh\Documents\repos\ibank\ibank-clientinfo\ClientInfo.Repository\Queries\ClientRepository.cs
	namespace

 	

ClientInfo


 
.

 

Repository

 
.

  
Queries

  '
{ 
public 

class 
ClientRepository !
:" #
IClientRepository$ 5
{ 
	protected 
readonly 
IMongoCollection +
<+ ,
Client, 2
>2 3
_clients4 <
;< =
public 
ClientRepository 
(  
IMongoClient  ,
mongoClient- 8
,8 9
IOptions: B
<B C
ClientSettingsC Q
>Q R
settingsS [
)[ \
{ 	
var 
database 
= 
mongoClient &
.& '
GetDatabase' 2
(2 3
settings3 ;
.; <
Value< A
.A B
DatabaseNameB N
)N O
;O P
_clients 
= 
database 
.  
GetCollection  -
<- .
Client. 4
>4 5
(5 6
settings6 >
.> ?
Value? D
.D E
CollectionNameE S
)S T
;T U
} 	
public 
Task 
Delete 
( 
string !
id" $
)$ %
{ 	
throw 
new 
System 
. #
NotImplementedException 4
(4 5
)5 6
;6 7
} 	
public 
async 
Task 
< 
Client  
>  !
Get" %
(% &
Guid& *
id+ -
)- .
=>/ 1
(2 3
await3 8
_clients9 A
.A B
	FindAsyncB K
(K L
clientL R
=>S U
clientV \
.\ ]
Id] _
._ `
Equals` f
(f g
idg i
)i j
)j k
)k l
.l m
FirstOrDefaultm {
({ |
)| }
;} ~
public 
async 
Task 
< 
IEnumerable %
<% &
Client& ,
>, -
>- .
GetAll/ 5
(5 6
int6 9

pageNumber: D
,D E
intF I
pageSizeJ R
)R S
{ 	
return 
( 
await 
_clients "
." #
	FindAsync# ,
(, -
client- 3
=>4 6
true7 ;
); <
)< =
?= >
.> ?
ToEnumerable? K
(K L
)L M
;M N
} 	
public!! 
Task!! 
Save!! 
(!! 
Client!! 
client!!  &
)!!& '
{"" 	
return## 
Task## 
.## 
Run## 
(## 
(## 
)## 
=>## !
_clients##" *
.##* +
InsertOneAsync##+ 9
(##9 :
client##: @
)##@ A
)##A B
;##B C
}%% 	
public'' 
Task'' 
Update'' 
('' 
Client'' !
client''" (
)''( )
{(( 	
throw)) 
new)) 
System)) 
.)) #
NotImplementedException)) 4
())4 5
)))5 6
;))6 7
}** 	
}++ 
},, 